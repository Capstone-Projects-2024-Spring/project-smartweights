# Hardware Software

## Class BluetoothManager

The BluetoothManager class provides methods for establishing a Bluetooth connection with a Raspberry Pi Pico Wand receiving data.

### Class Description

#### Data Fields
- `shared`
    -   Purpose: Singleton instance of the BluetoothManager class.
- `receivedData`
    - Purpose : Object of the data received from the hardware system
    - Type: List: [Integer]
#### Methods
- `connectToDevice(deviceName:completion:)`

    - Purpose: Connects to a Bluetooth device with the given name.
    - Pre-conditions: Bluetooth is enabled on the device.
    - Post-conditions: Bluetooth connection is established or error is returned.
    - Parameters:
        - deviceID (Int): The ID of the Bluetooth device (e.g., Raspberry Pi Pico).
        - completion (Closure): A closure that takes an optional BluetoothDevice and an optional Error as its parameters.
    - Return Value: None
    - Exceptions Thrown:
        - BluetoothError: Generic error related to Bluetooth connectivity.
        - DeviceNotFoundError: Error occurs when the specified device is not found.
        - NetworkError: Error occurs when there's an issue with the network connection.
- `receiveData(completion:)`

    - Purpose: Receives data from the connected Bluetooth device.
    - Pre-conditions: Bluetooth connection is established.
    - Post-conditions: Data is received from the device or error is returned. Sets receivedData element to data.
    - Parameters:
        - completion (Closure): A closure that takes an optional array of elements received from the device and an optional Error as its parameters.
    - Return Value: None
    - Exceptions Thrown:
        - BluetoothError: Generic error related to Bluetooth connectivity.
        - DataError: Error occurs when there's an issue with receiving data.
        - NetworkError: Error occurs when there's an issue with the network connection.

- `sendDataToDatabase(completion:)`- 

    - Purpose: Sends the received data to the database.
    - Pre-conditions: Data has been received from the Bluetooth device.
    - Post-conditions: Data is sent to the database or error is returned.
    - Parameters:
        - completion (Closure): A closure that takes an optional Error as its parameter.

    - Return Value: None
    - Exceptions Thrown:
        - DatabaseError: Generic error related to database connectivity.
        - NetworkError: Error occurs when there's an issue with the network connection.


- `disconnect(completion:)`
    - Purpose: Disconnects from the currently connected Bluetooth device.
    - Pre-conditions: Bluetooth connection is established.
    - Post-conditions: Bluetooth connection is closed.
    - Parameters:
        - completion (Closure): A closure that takes an optional Error as its parameter.
    - Return Value: None
    - Exceptions Thrown:
        - BluetoothError: Generic error related to Bluetooth connectivity.
        - NetworkError: Error occurs when there's an issue with the network connection.



## Class Pico
### Class Description
The Pico class represents the data methods the microcontroller contains.

#### Data Fields

- `identifier`

    - Purpose: Identifier of the Bluetooth device.
    - Type: UUID

- `dataList`
    - Purpose: Hold the data from the sensors in a list
    - Type: List: [Integer]
#### Methods
- `sendData(data)`
    - Purpose: Sends data to the mobile device.
    - Pre-conditions: Bluetooth connection is established.
    - Post-conditions: Data is sent to the device.
    - Parameters:
        - data (List[Integer]): The list of data generated by sensors

    - Return Value: None
    - Exceptions Thrown:
        - BluetoothError: Generic error related to Bluetooth connectivity.

- `read_from_sensors(ID)`
    - Purpose: Reads data from sensors connected to the Raspberry Pi Pico.
    - Pre-conditions: Sensors are connected and functioning properly.
    - Post-conditions: Sensor data is retrieved or error is returned.
    - Parameters:
        - ID (int): The ID of the sensor
    - Return Value: None
    - Exceptions Thrown:
        - SensorError: Error occurs when there's an issue with reading sensor data.